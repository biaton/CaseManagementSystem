{% extends "resident_portal/base_simple.html" %}
{% load static %}

{% block title %}Set New Password{% endblock %}

{% block content %}
<div class="card shadow-sm border-0 rounded-4" style="max-width: 480px;">
    <div class="card-body p-5">
        <div class="text-center mb-4">
            <a href="{% url 'resident_portal:public_home' %}">
                <img src="{% static 'images/barangay_seal.png' %}" alt="Logo" width="80">
            </a>
        </div>
        <div class="text-center">
            <h1 class="h4 fw-bold mb-2">Create a New Password</h1>
            <p class="text-muted small mb-4">Your new password must be different from previously used passwords.</p>
        </div>
        
        <form method="POST">
            {% csrf_token %}
            {% if form.non_field_errors %}<div class="alert alert-danger small py-2">{{ form.non_field_errors|striptags }}</div>{% endif %}
            <div class="mb-3"><label class="form-label small fw-medium">{{ form.new_password1.label }}</label>{{ form.new_password1 }}</div>
            <div class="mb-3"><label class="form-label small fw-medium">{{ form.new_password2.label }}</label>{{ form.new_password2 }}</div>
            <div class="d-grid"><button type="submit" class="btn btn-primary fw-semibold py-2">Reset Password & Log In</button></div>
        </form>
    </div>
</div>
{% endblock %}