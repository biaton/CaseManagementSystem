{% extends "official_portal/base_official.html" %}

{% block official_title %}Edit Official: {{ official.get_full_name }}{% endblock %}

{% block extra_head_official %}
<style>
    .form-input, .form-select { display: block; width: 100%; padding: 0.75rem; border: 1px solid #d1d5db; border-radius: 0.5rem; }
</style>
{% endblock %}

{% block official_content_main %}
<div class="max-w-4xl mx-auto bg-white p-8 rounded-lg shadow-md border">
    <!-- HEADER -->
    <div class="mb-6 pb-4 border-b">
        <h2 class="text-3xl font-bold text-gray-900">Edit Official Details</h2>
        <p class="text-sm text-gray-500 mt-1">Updating profile for <span class="font-semibold">{{ official.get_full_name }}</span>.</p>
    </div>
    
    <form method="POST">
        {% csrf_token %}
        {% if form.errors %}
            <div class="bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-6 rounded-md" role="alert">
                <p class="font-bold">Please correct the errors below.</p>
            </div>
        {% endif %}

        <div class="space-y-8">
            <!-- Personal Information -->
            <fieldset>
                <legend class="text-xl font-semibold text-gray-800 mb-4">Personal Information</legend>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div><label class="block text-sm font-medium">First Name*</label>{{ form.first_name }}</div>
                    <div><label class="block text-sm font-medium">Last Name*</label>{{ form.last_name }}</div>
                    <div><label class="block text-sm font-medium">Middle Name</label>{{ form.middle_name }}</div>
                    <div><label class="block text-sm font-medium">Suffix</label>{{ form.suffix }}</div>
                    <div><label class="block text-sm font-medium">Gender</label>{{ form.gender }}</div>
                    <div><label class="block text-sm font-medium">Phone Number*</label>{{ form.phone_number }}</div>
                </div>
            </fieldset>

            <!-- Account & Position -->
            <fieldset>
                <legend class="text-xl font-semibold text-gray-800 mb-4">Account & Position</legend>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <label class="block text-sm font-medium">Email Address*</label>
                        {{ form.email }}
                        <p class="text-xs text-gray-500 mt-1">Changing email will affect user's login.</p>
                    </div>
                    <div>
                        <label class="block text-sm font-medium">Barangay Position*</label>
                        {{ form.barangay_position }}
                    </div>
                </div>
            </fieldset>
        </div>

        <!-- Action Buttons Footer -->
        <div class="mt-8 pt-6 border-t flex justify-end space-x-3">
            <a href="{% url 'manage_users' %}" class="bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold py-2 px-4 rounded-lg">Cancel</a>
            <button type="submit" class="bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded-lg">Save Changes</button>
        </div>
    </form>
</div>
{% endblock %}